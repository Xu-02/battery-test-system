(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[547],{3384:function(e,t,s){Promise.resolve().then(s.bind(s,4265))},4265:function(e,t,s){"use strict";s.r(t);var l=s(3827),i=s(4090),a=s(6765),n=s(1583),r=s(1587),d=s(588),c=s(6785),u=s(7171),o=s(1485),h=s(4190),x=s(5749),m=s(7337),j=s(4325),y=s(4913);let{Option:Z}=a.default;t.default=()=>{let[e,t]=(0,i.useState)([{id:"1",batteryId:"BAT001",testType:"性能测试",status:"进行中",startTime:"2024-02-20 10:00:00",endTime:"2024-02-20 12:00:00",result:"待完成",operator:"张三"},{id:"2",batteryId:"BAT002",testType:"寿命测试",status:"已完成",startTime:"2024-02-19 09:00:00",endTime:"2024-02-20 09:00:00",result:"合格",operator:"李四"}]),[s,p]=(0,i.useState)(!1),[k]=n.Z.useForm(),[g,b]=(0,i.useState)(null),f=e=>{b(e.id),k.setFieldsValue(e),p(!0)},I=s=>{t(e.filter(e=>e.id!==s)),d.ZP.success("删除成功")};return(0,l.jsxs)(y.Z,{children:[(0,l.jsxs)("div",{style:{padding:"24px"},children:[(0,l.jsx)(r.ZP,{type:"primary",icon:(0,l.jsx)(j.Z,{}),onClick:()=>{b(null),k.resetFields(),p(!0)},style:{marginBottom:16},children:"添加测试记录"}),(0,l.jsx)(c.Z,{columns:[{title:"电池编号",dataIndex:"batteryId",key:"batteryId"},{title:"测试类型",dataIndex:"testType",key:"testType"},{title:"状态",dataIndex:"status",key:"status"},{title:"开始时间",dataIndex:"startTime",key:"startTime"},{title:"结束时间",dataIndex:"endTime",key:"endTime"},{title:"结果",dataIndex:"result",key:"result"},{title:"操作员",dataIndex:"operator",key:"operator"},{title:"操作",key:"action",render:(e,t)=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r.ZP,{type:"link",icon:(0,l.jsx)(x.Z,{}),onClick:()=>f(t),children:"编辑"}),(0,l.jsx)(r.ZP,{type:"link",danger:!0,icon:(0,l.jsx)(m.Z,{}),onClick:()=>I(t.id),children:"删除"})]})}],dataSource:e,rowKey:"id"})]}),(0,l.jsx)(u.Z,{title:g?"编辑测试记录":"添加测试记录",open:s,onOk:()=>{k.validateFields().then(s=>{if(g)t(e.map(e=>e.id===g?{...s,id:g}:e)),d.ZP.success("更新成功");else{let l=String(e.length+1);t([...e,{...s,id:l}]),d.ZP.success("添加成功")}p(!1)})},onCancel:()=>p(!1),children:(0,l.jsxs)(n.Z,{form:k,layout:"vertical",children:[(0,l.jsx)(n.Z.Item,{name:"batteryId",label:"电池编号",rules:[{required:!0,message:"请输入电池编号"}],children:(0,l.jsx)(o.Z,{})}),(0,l.jsx)(n.Z.Item,{name:"testType",label:"测试类型",rules:[{required:!0,message:"请选择测试类型"}],children:(0,l.jsxs)(a.default,{children:[(0,l.jsx)(Z,{value:"性能测试",children:"性能测试"}),(0,l.jsx)(Z,{value:"寿命测试",children:"寿命测试"}),(0,l.jsx)(Z,{value:"安全测试",children:"安全测试"})]})}),(0,l.jsx)(n.Z.Item,{name:"status",label:"状态",rules:[{required:!0,message:"请选择状态"}],children:(0,l.jsxs)(a.default,{children:[(0,l.jsx)(Z,{value:"待开始",children:"待开始"}),(0,l.jsx)(Z,{value:"进行中",children:"进行中"}),(0,l.jsx)(Z,{value:"已完成",children:"已完成"})]})}),(0,l.jsx)(n.Z.Item,{name:"startTime",label:"开始时间",rules:[{required:!0,message:"请选择开始时间"}],children:(0,l.jsx)(h.default,{showTime:!0,style:{width:"100%"}})}),(0,l.jsx)(n.Z.Item,{name:"endTime",label:"结束时间",rules:[{required:!0,message:"请选择结束时间"}],children:(0,l.jsx)(h.default,{showTime:!0,style:{width:"100%"}})}),(0,l.jsx)(n.Z.Item,{name:"result",label:"结果",rules:[{required:!0,message:"请选择结果"}],children:(0,l.jsxs)(a.default,{children:[(0,l.jsx)(Z,{value:"待完成",children:"待完成"}),(0,l.jsx)(Z,{value:"合格",children:"合格"}),(0,l.jsx)(Z,{value:"不合格",children:"不合格"})]})}),(0,l.jsx)(n.Z.Item,{name:"operator",label:"操作员",rules:[{required:!0,message:"请输入操作员姓名"}],children:(0,l.jsx)(o.Z,{})})]})})]})}},4913:function(e,t,s){"use strict";var l=s(3827),i=s(4090),a=s(4440),n=s(311),r=s(1587),d=s(747),c=s(8099),u=s(9980),o=s(7511),h=s(5334),x=s(516),m=s(7907),j=s(4030),y=s.n(j);let{Header:Z,Sider:p,Content:k}=a.default;t.Z=e=>{let{children:t}=e,[s,j]=(0,i.useState)(!1),g=(0,m.useRouter)(),b=(0,m.usePathname)(),f=[{key:"/dashboard",icon:(0,l.jsx)(d.Z,{}),label:"仪表盘"},{key:"/departments",icon:(0,l.jsx)(c.Z,{}),label:"部门管理"},{key:"/testing",icon:(0,l.jsx)(u.Z,{}),label:"测试管理"},{key:"/analysis",icon:(0,l.jsx)(o.Z,{}),label:"数据分析"}];return(0,l.jsxs)(a.default,{style:{minHeight:"100vh"},children:[(0,l.jsxs)(p,{trigger:null,collapsible:!0,collapsed:s,children:[(0,l.jsx)("div",{className:y().logo,children:!s&&(0,l.jsx)("span",{children:"电池测试系统"})}),(0,l.jsx)(n.Z,{theme:"dark",mode:"inline",selectedKeys:[b],items:f,onClick:e=>{g.push(e.key)}})]}),(0,l.jsxs)(a.default,{children:[(0,l.jsxs)(Z,{className:y().header,children:[(0,l.jsx)(r.ZP,{type:"text",icon:(0,l.jsx)(h.Z,{}),onClick:()=>j(!s),style:{fontSize:"16px",width:64,height:64}}),(0,l.jsx)("div",{className:y().headerRight,children:(0,l.jsx)(r.ZP,{type:"text",icon:(0,l.jsx)(x.Z,{}),onClick:()=>{localStorage.removeItem("token"),g.push("/login")},children:"退出登录"})})]}),(0,l.jsx)(k,{className:y().content,children:t})]})]})}},4030:function(e){e.exports={logo:"Layout_logo__jEC1A",header:"Layout_header__3MyD7",headerRight:"Layout_headerRight__I_VRb",content:"Layout_content__EbiXf"}}},function(e){e.O(0,[861,216,292,146,970,785,335,190,132,971,69,744],function(){return e(e.s=3384)}),_N_E=e.O()}]);